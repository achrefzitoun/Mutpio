<div class="background">
    <br><br>
    <br><br>
    <br><br>
    <p-card>
        <div class="card">
            <p-steps [model]="items" [readonly]="true" [activeIndex]="activeIndex"
                (activeIndexChange)="onActiveIndexChange($event)"></p-steps>
        </div>
    </p-card>
    <br><br>
    <p-fieldset>
        <ng-template pTemplate="header">
            <div class="flex align-items-center text-primary">
                <span class="pi pi-briefcase mr-2" style="color: #DC0029;"></span>
                <label>Mondat</label>
            </div>
        </ng-template>
        <div class="col-12">
            <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                    <label class="font-bold block mb-2">Nom</label>
                    <input pInputText id="firstname2" type="text" disabled severity="danger" />
                </div>

                <div class="field col-12 md:col-4">
                    <label class="font-bold block mb-2">Prénom</label>
                    <input pInputText id="lastname2" type="text" disabled />
                </div>
                <div class="field col-12 md:col-4">
                    <label class="font-bold block mb-2">Email</label>
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">
                            <i class="pi pi-inbox"></i>
                        </span>
                        <input pInputText placeholder="Adresse email" disabled />
                    </div>
                </div>
                <div class="field col-12 md:col-6">
                    <label class="font-bold block mb-2">Votre adresse postale </label>
                    <input pInputTextarea id="address" rows="4" placeholder="Adresse postale" disabled />
                </div>

                <div class="field col-12 md:col-3">
                    <label class="font-bold block mb-2">Code postal</label>
                    <input pInputText id="city" type="text" placeholder="Code postal" disabled />
                </div>

                <div class="field col-12 md:col-3">
                    <label class="font-bold block mb-2">Ville</label>
                    <input pInputText="name" placeholder="Ville" disabled />
                </div>
            </div>
            <br><br>
            <hr style="border-color: #f5f5f5; height: 0.2px;">
            <br><br>
            <div class="p-fluid p-formgrid grid">
                <div class="field col-12">
                    <label class="font-bold block mb-2">Vos prélèvement mensuels <label style="color: black; font-size: small; font-weight: 400;">(Jour de
                            prélèvement)</label></label>
                    <div class="field col-12 md:flex">
                        <div class="field col-12 md:flex">
                            <div class="md:flex-1 mb-2 md:mb-0 md:mr-2">
                                <p-button label="Le 5 du mois" icon="pi pi-calendar"
                                    [outlined]="selectedDate !== 'Le 5 du mois'" severity="danger"
                                    (click)="selectDate('Le 5 du mois')">
                                </p-button>
                            </div>
                            <div class="md:flex-1 mb-2 md:mb-0 md:mr-2">
                                <p-button label="Le 10 du mois" icon="pi pi-calendar" severity="danger"
                                    [outlined]="selectedDate !== 'Le 10 du mois'" (click)="selectDate('Le 10 du mois')">
                                </p-button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field col-12 md:col-6">
                    <label class="font-bold block mb-2">Votre IBAN</label>
                    <input pInputText id="firstname2" type="text" severity="danger" />
                </div>
                <div class="field col-12 md:col-3">
                    <label class="font-bold block mb-2">Code BIC</label>
                    <input pInputText id="lastname2" type="text" />
                </div>
                <div class="field col-12 md:col-3">
                </div>

                <div class="field col-12 md:col-3">
                </div>
                <div class="field col-12 md:col-12">
                    <div class="flex align-items-center gap-1">
                        <p-checkbox name="group1" [(ngModel)]="checked" [binary]="true"></p-checkbox>
                        <label class="font-bold block mb-2">Voulez-vous saisir un compte différent pour le
                            règlement des prestations</label>
                    </div>
                </div>
                <br><br>

                <p-card class="col-12" *ngIf="checked">
                    <div class=" p-formgrid grid">
                        <div class="field col-12 md:col-6">
                            <label class="font-bold block mb-2">Votre IBAN</label>
                            <input pInputText id="firstname2" type="text" severity="danger" />
                        </div>
                        <div class="field col-12 md:col-3">
                            <label class="font-bold block mb-2">Code BIC</label>
                            <input pInputText id="lastname2" type="text" />
                        </div>
                        <div class="field col-12 md:col-3">
                            <label class="font-bold block mb-2">Titulaire</label>
                            <input pInputText id="lastname2" type="text" />
                        </div>
                        <div class="field col-12 md:col-12">
                            <label class="font-bold block mb-2">Relevè d'identité bancaire</label>
                            <p-fileUpload [multiple]="false" accept="image/* " [showUploadButton]="false">
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedFiles.length">
                                        <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }}
                                            bytes</li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                    </div>
                </p-card>
            </div>
            <br><br>
            <hr style="border-color: #f5f5f5; height: 0.2px;">
            <br><br>
            <div class="p-fluid p-formgrid grid">
                <br><br>
                <div class="field col-12 md:col-4"></div>
                <div class="field col-12 md:col-4">
                    <p-button icon="pi pi-file-pdf" label="Lien téléchargables" [rounded]="true"
                        (click)="open = !open"></p-button>
                </div>
                <div class="field col-12 md:col-4"></div>
                <div class="field col-12 md:col-12">
                    <p-card *ngIf="open">
                        <div class=" p-formgrid grid">
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/2021_CG%20ADHESION.pdf" target="_blank"
                                    style="color: var(--primary-color);"> -
                                    Conditions
                                    Générales <i class="pi pi-file-pdf" style="color: var(--primary-color);"></i> </a>
                            </div>
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/2023_R%C3%A8glement_mutualiste.pdf"
                                    target="_blank" style="color: var(--primary-color);"> -
                                    Règlement mutualiste <i class="pi pi-file-pdf"
                                        style="color: var(--primary-color);"></i></a>
                            </div>
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/Statuts.pdf" target="_blank"
                                    style="color: var(--primary-color);"> - Status
                                    Mutuelles
                                    du
                                    Pays-Haut <i class="pi pi-file-pdf" style="color: var(--primary-color);"></i></a>
                            </div>
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/RMA_2024_R%C3%A9sum%C3%A9_et_notice.pdf"
                                    target="_blank" style="color: var(--primary-color);">
                                    - Notice d'Assistance <i class="pi pi-file-pdf"
                                        style="color: var(--primary-color);"></i></a>
                            </div>
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/IPID2024/SERENA.pdf" target="_blank"
                                    style="color: var(--primary-color);"> -
                                    Document
                                    d'information sur le produit d'assurance (IPID)<i class="pi pi-file-pdf"
                                        style="color: var(--primary-color);"></i></a>
                            </div>
                            <div class="field col-12 md:col-6">
                                <a href="https://devis-recette.mutpio.fr/pdfs/garanties/N2%20-%20SERENA.pdf"
                                    target="_blank" style="color: var(--primary-color);"> -
                                    Fiche garantie<i class="pi pi-file-pdf"
                                        style="color: var(--primary-color);"></i></a>
                            </div>
                        </div>
                    </p-card>
                </div>
                <div class="col-12">
                    <div class="field col-12 md:col-12" style="display: flex; align-items: center;">

                        <p-checkbox name="group1" [binary]="true" [ngStyle]="{'margin-right': '10px'}"></p-checkbox>
                        <label class="block mb-2" style="color: black;">
                            En cochant cette case, je reconnais avoir pris connaissance de la fiche de garantie, de la
                            fiche IPID, des conditions générales d’adhésion, du règlement mutualiste, des statuts de la
                            mutuelle et de la notice d’information de l’assistance.
                        </label>
                    </div>
                    <div class="field col-12 md:col-12" style="display: flex; align-items: center;">

                        <p-checkbox name="group1" [binary]="true" [ngStyle]="{'margin-right': '10px'}"></p-checkbox>
                        <label class="block mb-2" style="color: black;">
                            J’accepte que les informations saisies dans le formulaire ci-dessus soient traitées dans le
                            cadre de la demande d’adhésion que j’adresse aux Mutuelles du Pays-Haut
                        </label>
                    </div>
                </div>

                <p-splitter [style]="{  'border': '2px solid black' , 'margin-right':'50px', 'margin-left':'50px'}" styleClass="mb-5">
                    <ng-template pTemplate>
                        <div class="col-12 col-lg-6 flex align-items-center justify-content-center">
                           Les données à caractère
                            personnel collectées via ce formulaire seront traitées par les services habilités des
                            Mutuelles du Pays-Haut, conformément au Règlement Général sur la Protection des Données
                            (RGPD), à la loi « Informatique et Libertés »; du 6 janvier 1978 telle que modifiée et à la
                            politique de protection des données des Mutuelles du Pays-Haut.<br><br>

                            Pour en savoir plus sur le traitement de vos données à caractère personnel et pour exercer
                            vos droits, veuillez consulter notre politique de protection des données ici<br></div>
                    </ng-template>
                </p-splitter>
            </div>
        </div>
    </p-fieldset>

    <br><br>
  <p-card>
    <div class="col-12">

      <div class="p-fluid p-formgrid grid">
        <div class="field col-12 md:col-2">
        </div>
        <div class="field col-12 md:col-6">
        </div>
        <div class="field col-12 md:col-2">
            <p-button icon="pi pi-chevron-left" label="Retour" severity="secondary"></p-button>
        </div>
        <div class="field col-12 md:col-2">
          <p-button label="Suivant" [loading]="loading" (onClick)="load()" severity="danger"></p-button>
        </div>
      </div>
    </div>
  </p-card>
  <br><br>
</div>